(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{162:function(t,e,r){"use strict";r.r(e);var a=r(30),i=r(3),o=r(29);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={components:{headerBack:a.a,EditorContent:i.c},data:function(){return{form:{name:"",text:""},label:"",isUpdate:!1,editor:new i.b}},methods:{addNewChapter:function(){this.$store.dispatch("chapter/add",{post_id:this.$route.params.post_id,form:{name:this.form.name,text:this.editor.getHTML()}})},updateChapter:function(){this.$store.dispatch("chapter/update",{post_id:this.$route.params.post_id,chapter_id:this.$route.params.chapter_id,form:{name:this.form.name,text:this.editor.getHTML()}})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.mapGetters)({chapter:"chapter/getChapter"}),{isLoading:function(){return this.$store.state.isLoading}}),watch:{chapter:function(t){this.form.name=t.name,this.editor.setContent(t.text),this.label="Редагування глави "+t.name}},created:function(){if(this.label="Нова глава",this.$route.params.chapter_id){this.$store.commit("isLoading",!0),this.isUpdate=!0,console.log(this.$store.getters),this.$store.dispatch("chapter/load",{post_id:this.$route.params.post_id,chapter_id:this.$route.params.chapter_id});this.$store.state.chapter.data;console.log(this.$store.state.chapter.data)}}},p=r(11),d=Object(p.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("el-main",[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[r("headerBack",{attrs:{label:t.label}}),t._v(" "),r("div",{staticClass:"content-block"},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Назва глави"}},[r("el-input",{attrs:{placeholder:"Ведіть назву глави"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"Вміст глави"}},[r("div",{staticClass:"edit"},[r("editor-content",{attrs:{editor:t.editor}})],1)]),t._v(" "),r("el-form-item",[t.isUpdate?r("el-button",{attrs:{type:"primary"},on:{click:t.updateChapter}},[t._v("Оновити")]):r("el-button",{attrs:{type:"primary"},on:{click:t.addNewChapter}},[t._v("Додати главу")])],1)],1)],1)],1)])],1)}),[],!1,null,"320c1e36",null);e.default=d.exports}}]);